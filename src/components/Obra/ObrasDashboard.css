/* ===== Layout geral ===== */
.dashboard-container {
  font-family: "Segoe UI", Arial, sans-serif;
  background-color: #f6f8fa;
  min-height: 100vh;
  padding: 30px 60px;
  color: #333;
}

.dashboard-header { text-align: center; margin-bottom: 30px; }
.dashboard-header h1 { font-size: 2rem; color: #0057b8; margin-bottom: 5px; }
.dashboard-header p { color: #555; font-size: 1rem; }

/* ===== Filtros ===== */
.filters {
  display: flex; justify-content: center; flex-wrap: wrap; gap: 20px;
  background:#fff; padding: 15px 20px; border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,.08); margin-bottom: 22px;
}
.filter label { display:block; font-weight:600; margin-bottom:6px; color:#444; }
.filter select {
  padding:8px 12px; border-radius:8px; border:1px solid #cbd5e1;
  background:#f9fafb; font-size:.95rem; transition:border .2s;
}
.filter select:focus { outline:none; border-color:#0057b8; }

/* ===== Chips (blocos) ===== */
.blocos-toolbar { display:flex; flex-wrap:wrap; gap:8px; margin: 6px 0 14px; }
.chip {
  border:1px solid #cbd5e1; background:#fff; color:#0a58ca;
  padding:6px 10px; border-radius:15px; font-size:.9rem; cursor:pointer;
}
.chip:hover { background:#eef4ff; }
.chip-on  { background:#0a58ca; color:#fff; border-color:#0a58ca; }
.chip-active { box-shadow:0 0 0 2px #0a58ca inset; }

/* ===== Tabela ===== */
.table-container.wide-scroll {
  overflow-x:auto; background:#fff; border-radius:14px;
  box-shadow:0 2px 10px rgba(0,0,0,.05);
}

.obras-table {
  width:max-content; min-width:100%;
  border-collapse:collapse;
}

/* Cabeçalho 1 (grupos) */
.obras-table thead tr:first-child {
  background:#0a58ca; color:#fff;
}
.obras-table thead tr:first-child th {
  padding:12px 14px; white-space:nowrap; font-weight:600; text-align:center;
}

/* Cabeçalho 2 (subtítulos) */
.obras-table thead tr:nth-child(2) {
  background:#eaf2ff; color:#0a58ca;
}
.obras-table thead tr:nth-child(2) th {
  padding:10px 12px; white-space:nowrap; font-weight:600; text-align:center;
}

/* Corpo */
.obras-table td {
  padding:12px 14px; border-bottom:1px solid #eef2f7; background:#fff;
}
.obras-table tbody tr:nth-child(odd) td { background:#fafcff; }
.obras-table tbody tr:hover td { background:#f4f7ff; }

/* Apenas a primeira coluna (Mês) é sticky */
.sticky-col {
  position: sticky;
  left: 0;
  z-index: 2;
  background: inherit; /* mantém zebra/hover */
  font-weight: 600;
  min-width: 110px; /* ajuste se quiser mais estreito/largo */
}

.obras-table thead .sticky-col {
  background: #0a58ca !important;
  color: #fff !important;
  z-index: 3;
}


/* Texto numérico alinhado à direita */
.num { text-align: right; white-space: nowrap; }

/* Cores de desvio (aplicadas no TD do desvio) */
td.negativo { color:#e63946; font-weight:600; } /* real acima da meta */
td.positivo { color:#2a9d8f; font-weight:600; } /* real abaixo da meta */

/* ===== Gráficos ===== */
.obras-charts-grid { display:grid; grid-template-columns:1fr; gap:18px; }
@media (min-width: 1100px) { .obras-charts-grid { grid-template-columns:1fr 1fr; } }
.chart-card {
  background:#fff; padding:16px; border-radius:14px;
  box-shadow:0 2px 10px rgba(0,0,0,.05);
}
.chart-card h3 { margin:0 0 10px; color:#0a58ca; font-weight:600; }

/* ===== Utilidades ===== */
.grp-title { text-align:center; font-weight:600; }
.loading { text-align:center; padding:50px; color:#555; }

/* força o browser a respeitar as larguras */
.obras-table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed; /* <- importante */
}

/* Coluna MÊS mais estreita */
.obras-table th.sticky-col,
.obras-table td.sticky-col {
  width: 120px;          /* ajuste fino aqui (110–140) */
  min-width: 120px;
  max-width: 120px;
  text-align: left;
  padding-left: 16px;    /* opcional, para não colar na borda */
}

/* Colunas numéricas (Meta / Real / Desvio) mais enxutas */
.obras-table th.num,
.obras-table td.num {
  width: 150px;          /* ajuste fino (130–160) */
  min-width: 150px;
  max-width: 150px;
  text-align: right;
  font-variant-numeric: tabular-nums;
}

/* Tira excesso de padding para aproximar as colunas */
.obras-table th,
.obras-table td {
  padding: 10px 12px; /* era 12px 14px; deixa mais compacto */
}

/* Cabeçalho de grupo não exagerar no recuo */
.grp-title {
  text-align: center;
  font-weight: 600;
  padding-left: 6px;
  padding-right: 6px;
}

/* Garante que o sticky do cabeçalho use a mesma largura do corpo */
.obras-table thead .sticky-col {
  background: #0a58ca;
  color: #fff;
  z-index: 3;
  width: 120px;  /* igual ao do corpo */
  min-width: 120px;
  max-width: 120px;
}

.obras-charts-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: 1fr 1fr;
}
.chart-card { background: #fff; border-radius: 12px; padding: 12px 14px; box-shadow: 0 2px 8px rgba(0,0,0,.06); }
.chart-card h3 { margin: 4px 6px 10px; color: #0f3a6d; }

.kpis-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 12px;
  margin: 10px 0 16px;
}
.kpi-card { background:#fff; border-radius:12px; padding:12px 14px; box-shadow:0 2px 8px rgba(0,0,0,.06); }
.kpi-title { font-size: 12px; color:#6b7280; }
.kpi-value { font-size: 20px; font-weight:700; }
.progress-wrap { height: 10px; background:#eef2f7; border-radius:999px; margin-top:6px; overflow:hidden; }
.progress-bar { height: 10px; border-radius:999px; }
.progress-bar.verde { background:#16a34a; }
.progress-bar.amarelo { background:#f59e0b; }
.progress-bar.vermelho { background:#dc2626; }
.status-card { display:flex; align-items:center; gap:12px; }
.status-dot { width:14px; height:14px; border-radius:999px; }
.status-dot[data-status="verde"]{ background:#16a34a; }
.status-dot[data-status="amarelo"]{ background:#f59e0b; }
.status-dot[data-status="vermelho"]{ background:#dc2626; }

.resumo-card { background:#fff; border-radius:12px; padding:12px 14px; box-shadow:0 2px 8px rgba(0,0,0,.06); }
.resumo-table { width:100%; border-collapse:separate; border-spacing:0 6px; }
.resumo-table th { text-align:left; font-weight:600; color:#0f3a6d; }
.badge { padding:4px 10px; border-radius:999px; font-size:12px; font-weight:700; color:#fff; }
.badge.verde{ background:#16a34a; }
.badge.amarelo{ background:#f59e0b; }
.badge.vermelho{ background:#dc2626; }

.chart-card-header { display:flex; align-items:center; justify-content:space-between; }
.segmented { background:#eef2f7; border-radius:8px; padding:2px; display:inline-flex; gap:2px; }
.segmented button { padding:4px 8px; border-radius:6px; border:0; background:transparent; cursor:pointer; }
.segmented button.on { background:#fff; box-shadow:0 1px 3px rgba(0,0,0,.08); }
/* container dos KPIs */
.obras-kpis {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 14px;
  margin-bottom: 12px;
}

/* card */
.kpi-card {
  background: #fff;
  border: 1px solid #eef2f7;
  border-radius: 14px;
  padding: 16px 18px;
  box-shadow: 0 4px 16px rgba(0,0,0,.05);
}

/* rótulo */
.kpi-label {
  color: #6b7280;
  font-size: 13px;
  margin-bottom: 6px;
}

/* valores grandes */
.kpi-value {
  font-weight: 800;
  font-size: 22px;
  line-height: 1.2;
  color: #111827;
}

.kpi-value.green { color: #16a34a; }  /* verde */
.kpi-value.red   { color: #dc2626; }  /* vermelho */

/* progress bar fininha */
.kpi-progress {
  height: 8px;
  background: #eef2f7;
  border-radius: 999px;
  overflow: hidden;
  margin-top: 6px;
}

.kpi-progress > div {
  height: 100%;
  transition: width .25s ease;
  background: #16a34a; /* default verde */
}

/* cor da barrinha pelo status */
.kpi-progress.verde > div    { background: #16a34a; }
.kpi-progress.amarelo > div  { background: #f59e0b; }
.kpi-progress.vermelho > div { background: #dc2626; }

/* legenda pequena sob a barra */
.kpi-sub {
  margin-top: 6px;
  color: #111827;
  font-size: 14px;
}

/* status com bolinha colorida */
.kpi-status {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.kpi-status-row {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: #16a34a;
}

.dot.verde    { background: #16a34a; }
.dot.amarelo  { background: #f59e0b; }
.dot.vermelho { background: #dc2626; }

/* responsivo */
@media (max-width: 980px) {
  .obras-kpis { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 560px) {
  .obras-kpis { grid-template-columns: 1fr; }
}
